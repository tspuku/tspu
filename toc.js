class TableOfContents{constructor({from:e,to:t}){this.fromElement=e,this.toElement=t,this.headingElements=eqSA(this.fromElement,"h1, h2, h3, h4, h5, h6"),this.tocElement=cE("div")}getMostImportantHeadingLevel(){let e=6;for(let t=0;t<this.headingElements.length;t++){let n=TableOfContents.getHeadingLevel(this.headingElements[t]);e=n<e?n:e}return e}static generateId(e){return e.textContent.replace(/\s+/g,"_")}static getHeadingLevel(e){switch(e.tagName.toLowerCase()){case"h1":default:return 1;case"h2":return 2;case"h3":return 3;case"h4":return 4;case"h5":return 5;case"h6":return 6}}generateToc(){let e=this.getMostImportantHeadingLevel()-1,t=this.tocElement;for(let n=0;n<this.headingElements.length;n++){let l=this.headingElements[n],a=TableOfContents.getHeadingLevel(l),i=a-e,h=cE("a");if(l.id||(l.id=TableOfContents.generateId(l)),h.href=`#${l.id}`,h.onclick=function(){shake(50)},h.textContent=l.textContent,i>0){for(let s=0;s<i;s++){let r=cE("ol"),d=cE("li");r.appendChild(d),t.appendChild(r),t=d}t.appendChild(h)}else{for(let o=0;o<-i;o++)t=t.parentNode.parentNode;let g=cE("li");g.appendChild(h),t.parentNode.appendChild(g),t=g}e=a}this.toElement.appendChild(this.tocElement.firstChild)}}
